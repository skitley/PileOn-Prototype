<!DOCTYPE html>
<html lang="en-us">
	<head>
		<title>PileOn - Prototype</title>
		<meta charset="utf-8">
		<meta name="author" content="Tim Leisio">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta name="description" content="An app for community distribution of free piles of materials.">
		
		<link href='http://fonts.googleapis.com/css?family=Quicksand:300,400,700' rel='stylesheet' type='text/css'>
		<link href='http://fonts.googleapis.com/css?family=Open+Sans:300,400' rel='stylesheet' type='text/css'>
		<link href="css/reset.css" rel="stylesheet" type="text/css">
		<link href="css/index.css" rel="stylesheet" type="text/css">
		
		<script type="text/javascript" src="js/libs/modernizr.js"></script>
		<!--<script type="text/javascript" src="js/libs/quo.js"></script>-->
		<script type="text/javascript" src="js/libs/ko.js"></script>
		<script type="text/javascript" src="js/AppViewModel.js"></script>
		<script type="text/javascript" src="js/AppViewController.js"></script>
		
		<script type="text/javascript" src="js/global.js"></script>
		
	</head>
	
	<body>
		<!-- ko if: currentPage() == 0 -->
		<div class="topnav topnav-home">
			<div class="menu" data-bind="click:toggleMenu">
				<div class="btn">
					<div class="icon-menu-open"></div>
				</div>
			</div>
			<div class="logowrap">
				<div class="logoimg">
					<img src="imgs/logo.png" alt="pile on logo" data-bind="click:firstPage" />
				</div>
				<div class="logotitle">
					<h1 data-bind="click: firstPage">Pile On</h1>
				</div>
				<div class="clear"></div>
			</div>
			<div class="clear"></div>
		</div>
		<!-- /ko -->
		
		<!-- ko if: currentPage() == 1 -->
		<div class="topnav topnav-pg2">
		
			<div class="menu" data-bind="click:toggleMenu">
				<div class="btn">
					<div class="icon-menu-open"></div>
				</div>
			</div>
			
			<div class="btn-home action" data-bind="click:firstPage">
				<div class="icon-action icon-action-home"></div>
				<p>Home</p>
			</div>
			
			<!-- ko foreach: categories -->
			<!-- ko if: active -->
			<div class="title">
				
				<!-- ko if: id()==0 --><img src="imgs/icon-cat-dirt.png" /><h1><span> Dirt: </span><span data-bind="text:numPiles()"></span><span> locations</span></h1><!-- /ko -->
				<!-- ko if: id()==1 --><img src="imgs/icon-cat-hay.png" /><h1><span> Hay &amp; Grass: </span><span data-bind="text:numPiles()"></span><span> locations</span></h1><!-- /ko -->
				<!-- ko if: id()==2 --><img src="imgs/icon-cat-leaves.png" /><h1><span> Leaves: </span><span data-bind="text:numPiles()"></span><span> locations</span></h1><!-- /ko -->
				<!-- ko if: id()==3 --><img src="imgs/icon-cat-mulch.png" /><h1><span> Mulch: </span><span data-bind="text:numPiles()"></span><span> locations</span></h1><!-- /ko -->
				<!-- ko if: id()==4 --><img src="imgs/icon-cat-pineneedles.png" /><h1><span> Pine Needles: </span><span data-bind="text:numPiles()"></span><span> locations</span></h1><!-- /ko -->
				<!-- ko if: id()==5 --><img src="imgs/icon-cat-rocks.png" /><h1><span> Rocks: </span><span data-bind="text:numPiles()"></span><span> locations</span></h1><!-- /ko -->
				<!-- ko if: id()==6 --><img src="imgs/icon-cat-sand.png" /><h1><span> Sand: </span><span data-bind="text:numPiles()"></span><span> locations</span></h1><!-- /ko -->
				<!-- ko if: id()==7 --><img src="imgs/icon-cat-sticks.png" /><h1><span> Sticks: </span><span data-bind="text:numPiles()"></span><span> locations</span></h1><!-- /ko -->
				<!-- ko if: id()==8 --><img src="imgs/icon-cat-woodchips.png" /><h1><span> Woodchips: </span><span data-bind="text:numPiles()"></span><span> locations</span></h1><!-- /ko -->
				
			</div>
			<!-- /ko -->
			<!-- /ko -->
			
			<div class="clear"></div>
			
		</div>
		<!-- /ko -->
		
		<!-- ko if: currentPage() == 2 -->
		<div class="topnav topnav-pg2">
			
			<div class="menu" data-bind="click:toggleMenu">
				<div class="btn">
					<div class="icon-menu-open"></div>
				</div>
			</div>
			
			<div class="btn-home action" data-bind="click:firstPage">
				<div class="icon-action icon-action-home"></div>
				<p>Home</p>
			</div>
			
			<!-- ko foreach: categories -->
			<!-- ko if: active -->
			<!-- ko foreach: piles -->
			<!-- ko if: active -->
			<div class="title">
				<!-- ko if: $parent.id() == 0 --><img src="imgs/icon-cat-dirt.png" /><!-- /ko -->
				<!-- ko if: $parent.id() == 1 --><img src="imgs/icon-cat-hay.png" /><!-- /ko -->
				<!-- ko if: $parent.id() == 2 --><img src="imgs/icon-cat-leaves.png" /><!-- /ko -->
				<!-- ko if: $parent.id() == 3 --><img src="imgs/icon-cat-mulch.png" /><!-- /ko -->
				<!-- ko if: $parent.id() == 4 --><img src="imgs/icon-cat-pineneedles.png" /><!-- /ko -->
				<!-- ko if: $parent.id() == 5 --><img src="imgs/icon-cat-rocks.png" /><!-- /ko -->
				<!-- ko if: $parent.id() == 6 --><img src="imgs/icon-cat-sand.png" /><!-- /ko -->
				<!-- ko if: $parent.id() == 7 --><img src="imgs/icon-cat-sticks.png" /><!-- /ko -->
				<!-- ko if: $parent.id() == 8 --><img src="imgs/icon-cat-woodchips.png" /><!-- /ko -->
				<h1>Pile &#35;<span data-bind="text: id"></span></h1>
			</div>
			<!-- /ko -->
			<!-- /ko -->
			<!-- /ko -->
			<!-- /ko -->
		</div>
		<!-- /ko -->
		
		<div id="pageTracker">
			<div class="activeBlock" data-bind="style: {left: (currentPage() * 33.3) + '%'}"></div>
			<div class="pageBlock"><div class="inner"></div></div>
			<div class="pageBlock"><div class="inner"></div></div>
			<div class="pageBlock"><div class="inner"></div></div>
			<div class="clear"></div>
		</div>
		
		<div id="pageWrap" data-bind="style: {width: viewportWidth()+'px', height: (viewportHeight()-128)+'px'}">
			<div id="pageWrapInner" data-bind="style: {width: (viewportWidth()*pageCount())+'px', left: (0 + (-currentPage() * viewportWidth()))+'px'}">
				<!-- PAGE1 -->
				<div class="page" data-bind="style: {width: (viewportWidth())+'px'}">
					<div id="categories">
						
						<!-- ko foreach: categories -->
						<div class="category" data-category="" data-bind="attr: {'data-category': id}, css:{'category-dirt': id()==0, 'category-hay': id()==1,'category-leaves': id()==2,'category-mulch': id()==3,'category-pineneedles': id()==4,'category-rocks': id()==5,'category-sand': id()==6,'category-sticks': id()==7,'category-woodchips': id()==8}, click: nextPage ">
							<div class="catinner">
								<div class="verbage">
									<h1 class="float-right" data-bind="text: numPiles"></h1>
									<h1 class="float-left" data-bind="text: name"></h1>
									<div class="clear"></div>
								</div>
							</div>
						</div>
						<!-- /ko -->
						
						<div class="clear"></div>
						
					</div>
					
				</div>
			
				<!-- PAGE2 -->
				<div class="page" data-bind="style: {width: (viewportWidth())+'px'}">
					<!-- ko foreach: categories -->
					<!-- ko if: active -->
					<div id="locations">
						<!-- ko foreach: piles -->
						<div class="location" data-bind="click: nextPage, attr: {'data-pile': id}">
							<div data-bind="css: {'chart-little':amount()==1, 'chart-some':amount()==2, 'chart-lots':amount()==3, 'chart-tons':amount()==4 }"></div>
							<div class="title">
								<!-- ko if: amount() == 1 -->
									<h1>Little</h1>
									<p>available</p>
								<!-- /ko -->
								<!-- ko if: amount() == 2 -->
									<h1>Some</h1>
									<p>available</p>
								<!-- /ko -->
								<!-- ko if: amount() == 3 -->
									<h1>Lots</h1>
									<p>available</p>
								<!-- /ko -->
								<!-- ko if: amount() == 4 -->
									<h1>Tons</h1>
									<p>available</p>
								<!-- /ko -->
								<h2 data-bind="text: distance()"></h2>
								<p>miles away</p>
							</div>
							<div class="mouseover-border"></div>
						</div>
						<!-- /ko -->
					</div>
					<!-- /ko -->
					<!-- /ko -->
				</div>
				
				<!-- PAGE3 -->
				<div class="page" data-bind="style: {width: (viewportWidth())+'px'}">
					<div id="pile">
						<!-- ko foreach: categories -->
						<!-- ko if: active -->
						<!-- ko foreach: piles -->
						<!-- ko if: active -->
						
						<div class="info">
							<!-- ko if: amount() == 0 -->
							<h1>None available!</h1>
							<!-- /ko -->
							<!-- ko if: amount() == 1 -->
							<h1>Little available, <span data-bind="text: distance"></span> miles away.</h1>
							<!-- /ko -->
							<!-- ko if: amount() == 2 -->
							<h1>Some available, <span data-bind="text: distance"></span> miles away.</h1>
							<!-- /ko -->
							<!-- ko if: amount() == 3 -->
							<h1>Lots available, <span data-bind="text: distance"></span> miles away.</h1>
							<!-- /ko -->
							<!-- ko if: amount() == 4 -->
							<h1>Tons available, <span data-bind="text: distance"></span> miles away.</h1>
							<!-- /ko -->
							<p class="address">123 Main Street</p>
							<p class="address">Minneapolis, MN 55414</p>
							<p class="update">Last updated <span data-bind="text: firstTimeStamp"></span> hours ago.</p>
							
							<!-- ko if: amount() == 0 -->
							<div class="chart">
								<img src="imgs/chart-none.png" alt="none chart image" />
							</div>
							<!-- /ko -->
							<!-- ko if: amount() == 1 -->
							<div class="chart">
								<img src="imgs/chart-little.png" alt="little chart image" />
							</div>
							<!-- /ko -->
							<!-- ko if: amount() == 2 -->
							<div class="chart">
								<img src="imgs/chart-some.png" alt="some chart image" />
							</div>
							<!-- /ko -->
							<!-- ko if: amount() == 3 -->
							<div class="chart">
								<img src="imgs/chart-lots.png" alt="lots chart image" />
							</div>
							<!-- /ko -->
							<!-- ko if: amount() == 4 -->
							<div class="chart">
								<img src="imgs/chart-tons.png" alt="tons chart image" />
							</div>
							<!-- /ko -->
							
						</div>
						
						<div class="notes">
							<div class="lquo">&ldquo;</div>
							<div class="rquo">&rdquo;</div>
							<p>Take the first trail from the entrance to the left. BYOS - bring your own shovels.</p>
						</div>
						
						<div class="map"></div>
						
						<div class="updatepile">
							<h2>Are you at this pile?</h2>
							<div class="btn-blue" data-bind="click: updatePile">
								<div class="inner">
									<div class="icon-bb icon-bb-update"></div>
									<div class="label">Be a helpful citizen and update this pile's status.</div>
									<div class="clear"></div>
								</div>
							</div>
						</div>
						
						
						
						
						<!-- /ko -->
						<!-- /ko -->
						<!-- /ko -->
						<!-- /ko -->
					</div>
				</div>
				
				<div class="clear"></div>
				
			</div>
		</div>
		
		<div id="newPileForm" class="form" data-bind="style: {width: (viewportWidth())+'px', height: (viewportHeight()-61)+'px', left: createPileProcessActive() == true ? '0px' : -(viewportWidth())+'px'}">
			<div class="inner">
				<div class="header">
					<h1>Create New Pile</h1>
				</div>
				
				<div class="address">
					<h1>What is the location of the pile?</h1>
					<div>
						<div>
							<input type="text" value="address1">
							<input type="text" value="address2">
							<input type="text" value="city">
							<input type="text" value="state">
							<input type="text" value="zip">
						</div>
						<br />
						<div class="btn-blue" data-bind="click: getLocationFromGPS">
							<div class="inner">
								<div class="icon-bb icon-bb-target"></div>
								<div class="label">From GPS</div>
								<div class="clear"></div>
							</div>
						</div>
					</div>
				</div>
				<hr />
				<div class="types">
					<h1>What type of material do you have?</h1>
					<div class="type type-dirt" data-type="dirt" data-bind="click: newPileMaterialSelect">
						<p>Dirt</p>
						<div class="border"></div>
					</div>
					<div class="type type-hay" data-type="hay" data-bind="click: newPileMaterialSelect">
						<p>Hay &amp; Grass</p>
						<div class="border"></div>
					</div>
					<div class="type type-leaves" data-type="leaves" data-bind="click: newPileMaterialSelect">
						<p>Leaves</p>
						<div class="border"></div>
					</div>
					<div class="type type-mulch" data-type="mulch" data-bind="click: newPileMaterialSelect">
						<p>Mulch</p>
						<div class="border"></div>
					</div>
					<div class="type type-pineneedles" data-type="pineneedles" data-bind="click: newPileMaterialSelect">
						<p>Pine Needles</p>
						<div class="border"></div>
					</div>
					<div class="type type-rocks" data-type="rocks" data-bind="click: newPileMaterialSelect">
						<p>Rocks</p>
						<div class="border"></div>
					</div>
					<div class="type type-sand" data-type="sand" data-bind="click: newPileMaterialSelect">
						<p>Sand</p>
						<div class="border"></div>
					</div>
					<div class="type type-sticks" data-type="sticks" data-bind="click: newPileMaterialSelect">
						<p>Sticks</p>
						<div class="border"></div>
					</div>
					<div class="type type-woodchips" data-type="woodchips" data-bind="click: newPileMaterialSelect">
						<p>Woodchips</p>
						<div class="border"></div>
					</div>
					<div class="clear"></div>
				</div>
				<hr />
				<div class="amount">
					<h1>How much material do you have?</h1>
					<div class="options">
						<div class="option" data-option="tons" data-amount="4" data-bind="click: newPileMaterialAmountSelect">
							<p>Tons</p>
						</div>
						<div class="option" data-option="lots" data-amount="3" data-bind="click: newPileMaterialAmountSelect">
							<p>Lots</p>
						</div>
						<div class="option" data-option="some" data-amount="2" data-bind="click: newPileMaterialAmountSelect">
							<p>Some</p>
						</div>
						<div class="option" data-option="little" data-amount="1" data-bind="click: newPileMaterialAmountSelect">
							<p>Little</p>
						</div>
					</div>
					<div class="chart">
						<!-- ko if: materialAmount() == 4 -->
							<img src="imgs/chart-tons.png" alt="tons amount chart" />
						<!-- /ko -->
						<!-- ko if: materialAmount() == 3 -->
							<img src="imgs/chart-lots.png" alt="lots amount chart" />
						<!-- /ko -->
						<!-- ko if: materialAmount() == 2 -->
							<img src="imgs/chart-some.png" alt="some amount chart" />
						<!-- /ko -->
						<!-- ko if: materialAmount() == 1 -->
							<img src="imgs/chart-little.png" alt="little amount chart" />
						<!-- /ko -->
						<!-- ko if: materialAmount() == 0 -->
							<img src="imgs/chart-none.png" alt="none amount chart" />
						<!-- /ko -->
					</div>
					<div class="clear"></div>
				</div>
				<hr />
				<div class="description">
					<h1>Is there any other info people should know about this pile? (optional)</h1>
					<textarea></textarea>
					<p style="color:#848484;font-size:0.8em;">(250 max character)</p>
				</div>
			</div>
		</div>
		
		<div id="updatePileForm" class="form" data-bind="style: {width: (viewportWidth())+'px', height: (viewportHeight()-61)+'px', left: updatePileProcessActive() == true ? '0px' : -(viewportWidth())+'px'}">
			<div class="inner">
				<div class="header">
					<h1>Update Pile</h1>
				</div>
				<div class="id">
					<h1>Pile ID&#35;</h1>
					<div><input type="text" /></div>
				</div>
				<hr />
				<div class="amount">
					<h1>How much material is left?</h1>
					<div class="options">
						<div class="option" data-option="tons" data-amount="4" data-bind="click: updatePileMaterialAmountSelect">
							<p>Tons</p>
						</div>
						<div class="option" data-option="lots" data-amount="3" data-bind="click: updatePileMaterialAmountSelect">
							<p>Lots</p>
						</div>
						<div class="option" data-option="some" data-amount="2" data-bind="click: updatePileMaterialAmountSelect">
							<p>Some</p>
						</div>
						<div class="option" data-option="little" data-amount="1" data-bind="click: updatePileMaterialAmountSelect">
							<p>Little</p>
						</div>
						<div class="option" data-option="none" data-amount="0" data-bind="click: updatePileMaterialAmountSelect">
							<p>None!</p>
						</div>
					</div>
					<div class="chart chartnone">
						<!-- ko if: materialAmount() == 4 -->
							<img src="imgs/chart-tons.png" alt="tons amount chart" />
						<!-- /ko -->
						<!-- ko if: materialAmount() == 3 -->
							<img src="imgs/chart-lots.png" alt="lots amount chart" />
						<!-- /ko -->
						<!-- ko if: materialAmount() == 2 -->
							<img src="imgs/chart-some.png" alt="some amount chart" />
						<!-- /ko -->
						<!-- ko if: materialAmount() == 1 -->
							<img src="imgs/chart-little.png" alt="little amount chart" />
						<!-- /ko -->
						<!-- ko if: materialAmount() == 0 -->
							<img src="imgs/chart-none.png" alt="none amount chart" />
						<!-- /ko -->
					</div>
					<div class="clear"></div>
				</div>
			</div>
		</div>
		
		<div id="spacer"></div>
		
		<div id="bottomrow">
			<div id="actions" data-bind="style: {width: (viewportWidth())+'px'}">
				<div class="inner">
					<div id="action-back" class="action" data-action="back" data-bind="style: {display: (currentPage() == 1 || currentPage() == 2) && createPileProcessActive() == false && updatePileProcessActive() == false ? 'block' : 'none'}, click: prevPage">
						<div class="icon-action icon-action-arrowleft"></div>
						<p>Back</p>
					</div>
					<div class="action" data-action="new" data-bind="style: {display: currentPage() == 0 && createPileProcessActive() == false && updatePileProcessActive() == false ? 'block' : 'none'}, click:  activateCreatePileProcess">
						<div class="icon-action icon-action-new"></div>
						<p>Create</p>
					</div>
					<div class="action" data-action="update" data-bind="style: {display: (currentPage() == 0 || currentPage() == 2) && createPileProcessActive() == false && updatePileProcessActive() == false ? 'block' : 'none'}, click: updatePile">
						<div class="icon-action icon-action-update"></div>
						<p>Update</p>
					</div>
					<div class="action" data-action="listview" data-bind="style: {display: currentPage() == 1 ? 'block' : 'none'}, css: {'action-disabled': listViewActive() == true }, click: changeViewMode">
						<div class="icon-action icon-action-list"></div>
						<p>List</p>
					</div>
					<div class="action" data-action="mapview" data-bind="style: {display: currentPage() == 1 ? 'block' : 'none'}, css: {'action-disabled': mapViewActive() == true }, click: changeViewMode">
						<div class="icon-action icon-action-pin"></div>
						<p>Map</p>
					</div>
					<div class="action" data-action="yourlocation" data-bind="style: {display: currentPage() == 1 ? 'block' : 'none'}, click: locationForm">
						<div class="icon-action icon-action-target"></div>
						<p>Location</p>
					</div>
					<div id="action-ok" class="action" data-action="ok" data-bind="style: {display: createPileProcessActive() == true || updatePileProcessActive() == true ? 'block' : 'none'}, click: okActiveProcess">
						<div class="icon-action icon-action-check"></div>
						<p>OK</p>
					</div>
					<div class="action" data-action="cancel" data-bind="style: {display: createPileProcessActive() == true || updatePileProcessActive() == true ? 'block' : 'none'}, click: cancelActiveProcess">
						<div class="icon-action icon-action-cancel"></div>
						<p>Cancel</p>
					</div>
					
					<div class="clear"></div>
				</div>
			</div>
		
		</div>
		
		<div id="debug"></div>
		
		<div id="about" data-bind="css: {aboutopen: isShowingMenu() == true}">
			<div class="inner">
				<div class="login">
					<h1>Login</h1>
					<input type="text" value="username / email">
					<input type="text" value="password">
					<div class="btn-blue">
						<div class="icon-bb-login"></div>
						<div class="label">Login</div>
					</div>
				</div>
				<hr />
				<div class="btn-blue">
					<div class="icon-bb-user"></div>
					<div class="label">Register to add your piles!</div>
				</div>
				<hr />
				<div class="whatis">
					<h1>What is Pile On?</h1>
					<p>Pile On is a web app that allows citizens to find free piles of materials near them.</p>
					<p>We're currently in an early version of the app, so we're eager for any feedback you may have!</p>
					<div class="btn-blue">
						<div class="label">Send us feedback!</div>
					</div>
				</div>
				<hr />
				<div class="howworks">
					<h1>How does it work?</h1>
					<ol>
						<li>Browse the categories and locations to find listed piles free for anyone to take.</li>
						<li>Creating a pile requires that you login, or register if you are a new user.</li>
						<li>Onve you've taken material from a pile, take a minute to update the pile status on Pile On so your neighbors have an up-to-date status of what's nearby them.</li>
						<li>Piles that are listed with an amount status of "None" for 24 consecutive hours will be removed from Pile On.</li>
						<li>All piles will be removed from Pile On after one week. This keeps things fresh!</li>
					</ol>
				</div>
			</div>
			
			<br />
			<br />
			<br />
			<br />
			<br />
			<br />
			
			<div class="topnav topnav-home" data-bind="css: {aboutnav: isShowingMenu() == true}">
				<div class="menu" data-bind="click:toggleMenu">
					<div class="btn">
						<div class="icon-menu-close"></div>
					</div>
				</div>
				<div class="logowrap">
					<div class="logoimg">
						<img src="imgs/logo.png" alt="pile on logo" />
					</div>
					<div class="logotitle">
						<h1>Pile On</h1>
					</div>
					<div class="clear"></div>
				</div>
				<div class="clear"></div>
			</div>
			
		</div>
		
	</body>
	
</html>